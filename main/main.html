<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ekran główny</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,900" rel="stylesheet">

    <link rel="stylesheet" href="main.css">
    <script>
        function blinkCursor(callback) {
            document.querySelector("body").classList.add("match");
            setTimeout(function () {
                document.querySelector("body").classList.remove("match")
            }, 300);
            setTimeout(function () {
                document.querySelector("body").classList.add("match")
            }, 600);
            setTimeout(function () {
                document.querySelector("body").classList.remove("match")
            }, 900);
            setTimeout(function () {
                document.querySelector("body").classList.add("match")
            }, 1200);
            setTimeout(function () {
                document.querySelector("body").classList.remove("match")
            }, 1500);
            setTimeout(function () {
                document.querySelector("body").classList.add("match")
            }, 1800);
            setTimeout(function () {
                document.querySelector("body").classList.remove("match")
                callback();
            }, 2100);
            document.querySelector('.notification').addEventListener("animationend", function () {
                document.querySelector('.notification').classList.remove('flip');
            });
        }

        window.addEventListener('DOMContentLoaded', function () {
            document.querySelector("a[href=find-galaxy]").addEventListener("click",function (event) {
                document.querySelector("body").classList.toggle("scan");
                event.preventDefault();
            });

            document.querySelector("#star1").addEventListener("click",function (event) {
                document.querySelector("#quests").style.display='block';
                document.querySelector("body").classList.remove("scan");
                event.preventDefault();
            });

            document.querySelector("#quests .close").addEventListener("click",function (event) {
                document.querySelector("#quests").style.display='none';
                document.querySelector("body").classList.add("scan");
                event.preventDefault();
            });

            document.querySelectorAll(".starBox").forEach(elem => elem.addEventListener("mouseover", function () {
                if(!this.parentElement.classList.contains("active") && document.querySelector("body").classList.contains("scan")){
                    document.querySelector('.notification').classList.add('flip');
                    this.parentElement.classList.add("active");
                    let star=this.parentElement;
                    blinkCursor(function () {
                        star.classList.add('canEnter')
                    });
                }
            }));
        });
    </script>


</head>
<body>
<div id="quests">
    <div class="close">X</div>
    <h1>Aktywności do wykonania</h1>
    <ol>
        <li>Quiz z wiedzy ogólnej</li>
        <li class="disabled">Quiz z fizycznej</li>
        <li class="disabled">Quiz matematyczny</li>
        <li class="disabled">Minigierka</li>
        <li class="disabled">Puzzle</li>
    </ol>
</div>
<div id="notifications">
    <div class="notification alert">Uwaga! Znaleziono nowy obiekt!</div>
</div>
<div class="star" style="--star-main-color: red;--star-secound-color:red;" id="star1">
    <div class="starBox"></div>
</div>
<div class="star" style="--star-main-color: white;--star-secound-color:yellow;" id="star2">
    <div class="starBox"></div>
</div>
<div class="star" style="--star-main-color: yellow;--star-secound-color:yellow;" id="star3">
    <div class="starBox"></div>
</div>
<div class="star" style="--star-main-color: pink;--star-secound-color:pink;" id="star4">
    <div class="starBox"></div>
</div>
<div id="dock">
    <ol>
        <li>
            <a href="find-galaxy"><img src="resources/nav/nav_placeholder.png"/></a>
        </li>
        <li>
            <a href="research"><img src="resources/nav/nav_placeholder.png"/></a>
        </li>
        <li>
            <a href="achivments"><img src="resources/nav/nav_placeholder.png"/></a>
        </li>
    </ol>
</div>
</body>
</html>